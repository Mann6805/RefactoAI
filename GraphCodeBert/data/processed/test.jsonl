{"split": "test", "language": "Python", "defect_type": "resource_leak", "code": "def read_config():\n    f = open('config.txt', 'r')\n    data = f.read()\n    return data"}
{"split": "test", "language": "Python", "defect_type": "resource_leak", "code": "def process_file(path):\n    file = open(path, 'r')\n    content = file.read()\n    if len(content) == 0:\n        return None\n    return content.split()"}
{"split": "test", "language": "Python", "defect_type": "resource_leak", "code": "def query_db(sql):\n    conn = sqlite3.connect('db.sqlite')\n    cursor = conn.cursor()\n    cursor.execute(sql)\n    return cursor.fetchall()"}
{"split": "test", "language": "Python", "defect_type": "resource_leak", "code": "def download_data(url):\n    response = requests.get(url)\n    data = response.json()\n    return data"}
{"split": "test", "language": "Python", "defect_type": "resource_leak", "code": "def write_log(msg):\n    log = open('app.log', 'a')\n    log.write(msg + '\\n')\n    return True"}
{"split": "test", "language": "Java", "defect_type": "resource_leak", "code": "public String readFile(String path) {\n    FileReader fr = new FileReader(path);\n    BufferedReader br = new BufferedReader(fr);\n    return br.readLine();\n}"}
{"split": "test", "language": "Java", "defect_type": "resource_leak", "code": "public void writeLog(String msg) {\n    FileWriter fw = new FileWriter(\"app.log\", true);\n    fw.write(msg + \"\\n\");\n}"}
{"split": "test", "language": "Java", "defect_type": "resource_leak", "code": "public ResultSet queryDB(String sql) {\n    Connection conn = DriverManager.getConnection(url);\n    Statement stmt = conn.createStatement();\n    return stmt.executeQuery(sql);\n}"}
{"split": "test", "language": "Java", "defect_type": "resource_leak", "code": "public InputStream getResource(String name) {\n    InputStream is = getClass().getResourceAsStream(name);\n    return is;\n}"}
{"split": "test", "language": "Java", "defect_type": "resource_leak", "code": "public Socket connect(String host, int port) {\n    Socket sock = new Socket(host, port);\n    return sock;\n}"}
{"split": "test", "language": "Python", "defect_type": "null_pointer_dereference", "code": "def get_name(user):\n    profile = user.get('profile')\n    return profile['name']"}
{"split": "test", "language": "Python", "defect_type": "null_pointer_dereference", "code": "def process_data(items):\n    first = items[0] if items else None\n    return first.upper()"}
{"split": "test", "language": "Python", "defect_type": "null_pointer_dereference", "code": "def calculate(x, y):\n    result = None\n    if x > 0:\n        result = x + y\n    return result * 2"}
{"split": "test", "language": "Python", "defect_type": "null_pointer_dereference", "code": "def find_user(id):\n    user = database.find(id)\n    return user.email.lower()"}
{"split": "test", "language": "Python", "defect_type": "null_pointer_dereference", "code": "def parse_json(text):\n    data = json.loads(text)\n    return data['result']['value']"}
{"split": "test", "language": "Java", "defect_type": "null_pointer_dereference", "code": "public String getName(User user) {\n    Profile profile = user.getProfile();\n    return profile.getName();\n}"}
{"split": "test", "language": "Java", "defect_type": "null_pointer_dereference", "code": "public int getLength(String str) {\n    String trimmed = str.trim();\n    return trimmed.length();\n}"}
{"split": "test", "language": "Java", "defect_type": "null_pointer_dereference", "code": "public String process(List<String> items) {\n    String first = items.get(0);\n    return first.toUpperCase();\n}"}
{"split": "test", "language": "Java", "defect_type": "null_pointer_dereference", "code": "public User findUser(int id) {\n    User user = database.find(id);\n    return user.getEmail().toLowerCase();\n}"}
{"split": "test", "language": "Java", "defect_type": "null_pointer_dereference", "code": "public int calculate(Integer x, Integer y) {\n    int result = x + y;\n    return result * 2;\n}"}
{"split": "test", "language": "Python", "defect_type": "concurrency_issue", "code": "counter = 0\ndef increment():\n    global counter\n    temp = counter\n    counter = temp + 1"}
{"split": "test", "language": "Python", "defect_type": "concurrency_issue", "code": "balance = 1000\ndef withdraw(amount):\n    global balance\n    if balance >= amount:\n        balance -= amount\n        return True"}
{"split": "test", "language": "Python", "defect_type": "concurrency_issue", "code": "shared_list = []\ndef add_item(item):\n    shared_list.append(item)\n    return len(shared_list)"}
{"split": "test", "language": "Python", "defect_type": "concurrency_issue", "code": "cache = {}\ndef update_cache(key, val):\n    if key not in cache:\n        cache[key] = val"}
{"split": "test", "language": "Python", "defect_type": "concurrency_issue", "code": "def process_queue():\n    while not queue.empty():\n        item = queue.get()\n        results.append(item * 2)"}
{"split": "test", "language": "Java", "defect_type": "concurrency_issue", "code": "private int counter = 0;\npublic void increment() {\n    int temp = counter;\n    counter = temp + 1;\n}"}
{"split": "test", "language": "Java", "defect_type": "concurrency_issue", "code": "private double balance = 1000.0;\npublic boolean withdraw(double amount) {\n    if (balance >= amount) {\n        balance -= amount;\n        return true;\n    }\n    return false;\n}"}
{"split": "test", "language": "Java", "defect_type": "concurrency_issue", "code": "private List<String> items = new ArrayList<>();\npublic void addItem(String item) {\n    items.add(item);\n}"}
{"split": "test", "language": "Java", "defect_type": "concurrency_issue", "code": "private Map<String, String> cache = new HashMap<>();\npublic void put(String key, String val) {\n    if (!cache.containsKey(key)) {\n        cache.put(key, val);\n    }\n}"}
{"split": "test", "language": "Java", "defect_type": "concurrency_issue", "code": "private int total = 0;\npublic int addToTotal(int val) {\n    total = total + val;\n    return total;\n}"}
{"split": "test", "language": "Python", "defect_type": "security_vulnerability", "code": "def run_command(cmd):\n    result = os.system(cmd)\n    return result"}
{"split": "test", "language": "Python", "defect_type": "security_vulnerability", "code": "def query_user(username):\n    sql = \"SELECT * FROM users WHERE name='\" + username + \"'\"\n    return db.execute(sql)"}
{"split": "test", "language": "Python", "defect_type": "security_vulnerability", "code": "def load_module(name):\n    module = __import__(name)\n    return module"}
{"split": "test", "language": "Python", "defect_type": "security_vulnerability", "code": "def save_password(pwd):\n    with open('passwords.txt', 'w') as f:\n        f.write(pwd)"}
{"split": "test", "language": "Python", "defect_type": "security_vulnerability", "code": "def execute_code(code):\n    result = eval(code)\n    return result"}
{"split": "test", "language": "Java", "defect_type": "security_vulnerability", "code": "public void executeCommand(String cmd) {\n    Runtime.getRuntime().exec(cmd);\n}"}
{"split": "test", "language": "Java", "defect_type": "security_vulnerability", "code": "public ResultSet queryUser(String username) {\n    String sql = \"SELECT * FROM users WHERE name='\" + username + \"'\";\n    return stmt.executeQuery(sql);\n}"}
{"split": "test", "language": "Java", "defect_type": "security_vulnerability", "code": "public Object loadClass(String name) throws Exception {\n    Class<?> clazz = Class.forName(name);\n    return clazz.newInstance();\n}"}
{"split": "test", "language": "Java", "defect_type": "security_vulnerability", "code": "public void savePassword(String pwd) throws IOException {\n    FileWriter fw = new FileWriter(\"passwords.txt\");\n    fw.write(pwd);\n    fw.close();\n}"}
{"split": "test", "language": "Java", "defect_type": "security_vulnerability", "code": "public String readFile(String path) throws IOException {\n    return new String(Files.readAllBytes(Paths.get(path)));\n}"}
{"split": "test", "language": "Python", "defect_type": "code_complexity", "code": "def process(x, y, z):\n    if x > 0:\n        if y > 0:\n            if z > 0:\n                return x + y + z\n            else:\n                return x + y\n        else:\n            return x\n    else:\n        return 0"}
{"split": "test", "language": "Python", "defect_type": "code_complexity", "code": "def calculate(a, b, c, d):\n    result = 0\n    if a: result += 1\n    if b: result += 2\n    if c: result += 3\n    if d: result += 4\n    return result if result > 0 else -1"}
{"split": "test", "language": "Python", "defect_type": "code_complexity", "code": "def validate(data):\n    return True if data and len(data) > 0 and data[0] and data[0].get('valid') and data[0]['valid'] == True else False"}
{"split": "test", "language": "Python", "defect_type": "code_complexity", "code": "def transform(lst):\n    return [x * 2 if x > 0 else x * 3 if x < 0 else 0 for x in lst if x != None and x != 0]"}
{"split": "test", "language": "Python", "defect_type": "code_complexity", "code": "def check(x):\n    if x: return x if x > 0 else -x if x < 0 else 0\n    else: return None if x == 0 else 0"}
{"split": "test", "language": "Java", "defect_type": "code_complexity", "code": "public int process(int x, int y, int z) {\n    if (x > 0) {\n        if (y > 0) {\n            if (z > 0) {\n                return x + y + z;\n            } else return x + y;\n        } else return x;\n    } else return 0;\n}"}
{"split": "test", "language": "Java", "defect_type": "code_complexity", "code": "public int calculate(boolean a, boolean b, boolean c, boolean d) {\n    int result = 0;\n    if (a) result += 1;\n    if (b) result += 2;\n    if (c) result += 3;\n    if (d) result += 4;\n    return result > 0 ? result : -1;\n}"}
{"split": "test", "language": "Java", "defect_type": "code_complexity", "code": "public boolean validate(Data data) {\n    return data != null && data.getItems() != null && data.getItems().size() > 0 && data.getItems().get(0).isValid();\n}"}
{"split": "test", "language": "Java", "defect_type": "code_complexity", "code": "public List<Integer> transform(List<Integer> lst) {\n    return lst.stream().filter(x -> x != null && x != 0).map(x -> x > 0 ? x * 2 : x * 3).collect(Collectors.toList());\n}"}
{"split": "test", "language": "Java", "defect_type": "code_complexity", "code": "public int check(Integer x) {\n    return x != null ? (x > 0 ? x : (x < 0 ? -x : 0)) : 0;\n}"}
